<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>HomePage</title>

    <!-- Our CSS -->
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='style.css')}}">
    
    <!-- Include the jQuery library -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>        
</head>

<body>

  <h1>Heart Risk Classification</h1>
  
  <h3>Input Data</h3>

    <t>Fill in your information to receive a prediction for your risk of heart disease.</t> <br> <br>

    <t>This function is in development.</t> <br> <br>

    <!-- Add custom JavaScript code for making predictions -->
<script>
  $(document).ready(function () {
      // Attach event listener to the form submission
      $('form').on('submit', function (event) {
          event.preventDefault(); // Prevent form submission

          // Get input values
          var question1 = $('#question1').val();
          var question2 = $('#question2').val();
          var question3 = $('#question3').val();
          var question4 = $('#question4').val();
          var question5 = $('#question5').val();
          var question6 = $('#question6').val();
          var question7 = $('#question7').val();
          var question8 = $('#question8').val();
          var question9 = $('#question9').val();
          var question10 = $('#question10').val();
          var question11 = $('#question11').val();
          var question12 = $('#question12').val();
          var question13 = $('#question13').val();
          var question14 = $('#question14').val();
          // Extract values from other input fields as needed

          // Prepare data for POST request
          var data = {
              'question1': question1,
              'question2': question2,
              'question3': question3,
              'question4': question4,
              'question5': question5,
              'question6': question6,
              'question7': question7,
              'question8': question8,
              'question9': question9,
              'question10': question10,
              'question11': question11,
              'question12': question12,
              'question13': question13,
              'question14': question14
              // Add other input field values as needed
          };

          // Send POST request to Flask server for prediction
          $.ajax({
              type: 'POST',
              url: '/predict',
              contentType: 'application/json',
              data: JSON.stringify(data),
              success: function (response) {
                  // Update the frontend with the predicted results
                  var prediction = response.prediction;
                  $('#prediction').text('Prediction: ' + prediction);
              },
              error: function (xhr, status, error) {
                  console.error('Error:', error);
              }
          });
      });
  });
</script>

<br>
<form method='post'>
<h1>Health Questionnaire</h1>

<h2>Personal Information</h2>
<ul>
  <li>
    <label for="question8">Sex:</label>
    <input type="text" id="question8" name="question8" required>
  </li>
  <li>
    <label for="question9">Age:</label>
    <input type="text" id="question9" name="question9" required>
  </li>
  <li>
    <label for="question10">Race:</label>
    <input type="text" id="question10" name="question10" required>
  </li>
</ul>

<h2>Health Status</h2>
<table>
  <tr>
    <th>Question</th>
    <th>Answer</th>
  </tr>
  <tr>
    <td>BMI (Estimate)</td>
    <td>
      <input type="text" id="question1" name="question1" required>
    </td>
  </tr>
  <tr>
    <td>Do you smoke?</td>
    <td>
      <input type="text" id="question2" name="question2" required>
    </td>
  </tr>
  <tr>
    <td>Drink alcohol?</td>
    <td>
      <input type="text" id="question3" name="question3" required>
    </td>
  </tr>
  <tr>
    <td>Have you had a stroke?</td>
    <td>
      <input type="text" id="question4" name="question4" required>
    </td>
  </tr>
  <tr>
    <td>Rate your physical health (0-30)</td>
    <td>
      <input type="text" id="question5" name="question5" required>
    </td>
  </tr>
  <tr>
    <td>Rate your mental health (0-30)</td>
    <td>
      <input type="text" id="question6" name="question6" required>
    </td>
  </tr>
  <tr>
    <td>Do you have difficulty walking?</td>
    <td>
      <input type="text" id="question7" name="question7" required>
    </td>
  </tr>
  <tr>
    <td>Do you have diabetes?</td>
    <td>
      <input type="text" id="question11" name="question11" required>
    </td>
  </tr>
  <tr>
    <td>Are you physically active?</td>
    <td>
      <input type="text" id="question12" name="question12" required>
    </td>
  </tr>
  <tr>
    <td>Rate your general health (Poor, Fair, Good, Excellent)</td>
    <td>
      <input type="text" id="question13" name="question13" required>
    </td>
  </tr>
  <tr>
    <td>How many hours do you normally sleep?</td>
    <td>
      <input type="text" id="question14" name="question14" required>
    </td>
  </tr>
  <tr>
    <td>Do you have asthma?</td>
    <td>
      <input type="text" id="question15" name="question15" required>
    </td>
  </tr>
  <tr>
    <td>Do you have kidney disease?</td>
    <td>
      <input type="text" id="question16" name="question16" required>
    </td>
  </tr>
  <tr>
    <td>Have you had skin cancer?</td>
    <td>
      <input type="text" id="question17" name="question17" required>
    </td>
  </tr>
</table>
<br>
<input type="submit" value="Submit">

</form>

    <!-- Display the predicted result here -->
    <p id="prediction"></p>

    <b>This project was created by Jonathan Arp, Gabe Cweigenberg, Jesse DeLaCruz, Nicolette Keplinger, and Dylan Kurbel.</b>

</body>

</html>